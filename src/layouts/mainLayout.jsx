import { useState, useEffect, useContext } from 'react';
import Cookies from 'js-cookie';
import { AuthContext } from '../context/AuthContext'; // Adjust path as needed
import HomeSlide from '../components/slide/homeSlide';
import GameSlide from '../components/slide/gameSlide';
import OriginalSlide from '../components/slide/originalSlide';
import DefaultLayout from './defaultLayout';
import FeaturedSlide from '../components/slide/featureSlide';
import { categoriesData } from '../api/categoriesApi';
import { Link } from 'react-router-dom';

const { categoriesGame } = categoriesData;

function MainLayout() {
    const [recentGames, setRecentGames] = useState([]);
    const { user } = useContext(AuthContext);

    useEffect(() => {
        if (user) {
            const savedRecents = Cookies.get('recentGames');
            if (savedRecents) {
                try {
                    setRecentGames(JSON.parse(savedRecents));
                } catch (error) {
                    console.error('Error parsing recentGames from cookies:', error);
                }
            }
        }
    }, [user]);

    return (
        <DefaultLayout>
            <main className="flex flex-col mx-auto w-full mt-[60px] pl-[8px] relative max-md:pl-[0]">
                {recentGames.length === 0 ? (
                    <div
                        className="w-full h-[84px] flex items-center justify-center gap-[24px] p-[12px_16px_0_16px] relative
                        max-md:grid-cols-3 max-md:grid max-md:h-auto max-sm:p-[8px_8px_0_8px]
                        max-sm:hidden max-lg:gap-[16px]"
                    >
                        <div className="w-[200px] flex gap-[8px]">
                            <svg
                                width="51"
                                height="51"
                                viewBox="0 0 53 51"
                                fill="none"
                                xmlns="http://www.w3.org/2000/svg"
                                className="max-sm:w-[30px] max-sm:h-[30px] max-lg:w-[40px] max-lg:h-[40px]"
                            >
                                <path
                                    d="M33.2403 20.6304C33.152 20.6462 33.0593 20.6598 32.9643 20.6666C31.4853 20.7931 30.1939 19.6815 30.0725 18.1814C29.9731 16.9636 30.6751 15.8678 31.7303 15.4318C31.0902 14.9212 30.2667 14.641 29.3926 14.7156C27.5537 14.8715 26.174 16.5253 26.3263 18.3937L26.8782 25.1919C27.0305 27.0559 28.6575 28.4589 30.4963 28.303C32.3352 28.1471 33.7149 26.4933 33.5626 24.6249L33.2381 20.6304H33.2403Z"
                                    fill="#6842FF"
                                ></path>
                                <path
                                    d="M50.0272 14.3763H50.025C49.9852 11.1533 49.4189 4.54358 47.3221 2.27675C47.1739 2.1174 47.008 2.03211 46.8244 2.00742C45.5791 1.84134 43.5951 4.50318 42.1662 6.00019C40.5649 5.27974 38.771 4.78822 36.7649 4.52114C35.1834 4.31016 33.4714 4.24059 31.6201 4.30792C27.4176 4.46054 23.987 5.27301 21.2266 6.76328C19.9459 5.60069 16.9931 4.04533 15.071 3.78947C14.3477 3.69296 13.7704 3.78049 13.4829 4.14184C11.5541 6.55231 13.7903 12.4483 13.9783 15.6668C13.1599 18.2209 12.8038 21.179 12.9233 24.5411C13.1732 31.6042 15.3541 36.7618 19.4018 39.8905C21.649 41.6232 24.4227 42.7027 27.8046 43.1516C28.5279 43.2481 29.2777 43.3154 30.0563 43.3536C29.5498 43.6341 29.0234 43.908 28.4837 44.2154L26.9133 45.0683L26.0219 45.5508C25.1593 46.0491 24.2657 46.4957 23.3102 47.1376L23.0713 47.2745C23.0049 47.3284 22.943 47.4159 22.9341 47.5102C22.9098 47.6875 23.0337 47.8513 23.2062 47.8738C23.2084 47.8738 23.2128 47.8738 23.215 47.8738C24.1086 47.977 24.9956 48.1207 25.898 48.1678L26.5726 48.2194C26.7938 48.2374 27.0194 48.2464 27.245 48.2508L28.5965 48.2778C30.4036 48.2441 32.2195 48.0758 34.0111 47.7234C35.8005 47.3845 37.5523 46.8099 39.2267 46.0379C40.8922 45.2681 42.4803 44.285 43.9048 43.1067C46.7271 40.7164 48.8991 37.5586 50.1378 34.082C50.5912 32.8229 50.9164 31.5212 51.1375 30.2037C51.602 28.085 51.7923 25.7261 51.6994 23.1226C51.5799 19.774 51.0159 16.8541 50.0272 14.3695V14.3763ZM34.8295 37.2511C26.2608 37.9738 20.3529 36.0077 19.3753 24.0563C18.913 18.4162 19.8729 14.493 22.3192 12.0825C24.3829 10.0379 27.7073 8.85281 32.4695 8.45107C37.2316 8.04932 40.7042 8.66877 43.0709 10.3319C45.8689 12.3024 47.4614 16.0034 47.9237 21.6481C48.9036 33.604 43.3982 36.5306 34.8295 37.2533V37.2511Z"
                                    fill="#6842FF"
                                    stroke="#6842FF"
                                    strokeWidth="2.5"
                                    strokeMiterlimit="10"
                                ></path>
                                <path
                                    d="M43.1997 20.3662C43.0694 20.4001 42.9392 20.4226 42.8023 20.4339C41.3233 20.5605 40.0319 19.4489 39.9104 17.9487C39.8155 16.7762 40.4689 15.7166 41.4623 15.2512C40.8619 14.8558 40.14 14.6502 39.374 14.7157C37.5351 14.8716 36.1554 16.5254 36.3078 18.3938L36.8596 25.192C37.012 27.0559 38.6389 28.4589 40.4778 28.303C42.3166 28.1471 43.6964 26.4933 43.544 24.6249L43.1974 20.3662H43.1997Z"
                                    fill="#6842FF"
                                ></path>
                                <path
                                    d="M9.26107 44.8808C10.0544 43.8588 10.6965 42.6021 10.8889 41.2795L10.6576 41.0185C10.4609 41.0229 10.2749 41.0405 10.0977 41.0668C8.97788 41.2269 7.88401 41.6809 6.95445 42.2774C6.1654 42.7556 5.61414 43.5013 5.08883 44.2492C4.77537 44.6856 4.28249 45.2493 3.93012 45.6594C2.5682 47.2824 1.22357 49.0085 0 50.739L0.231311 51C0.689608 50.7434 1.3576 50.3376 1.80941 50.0635C3.07405 49.2871 4.40787 48.4251 5.62712 47.5741C6.06379 47.2649 6.67558 46.8219 7.13171 46.5543C7.92076 46.1025 8.70981 45.6265 9.26323 44.8808H9.26107Z"
                                    fill="#6842FF"
                                ></path>
                                <path
                                    d="M14.078 43.7413C13.4117 43.7835 12.7739 44.0109 12.3245 44.857C12.1141 45.246 11.9169 45.6796 11.6823 46.0335L11.3404 46.5656C10.5404 47.8453 9.77986 49.193 9.0741 50.6273L9.21656 51C9.84561 50.7422 10.4527 50.4281 11.0533 50.1C11.4522 49.882 11.9936 49.5633 12.3859 49.3055L12.8199 49.0148C13.2495 48.7031 13.7514 48.6445 14.1569 48.2343C14.5755 47.7773 14.8429 47.1421 15.0818 46.3757C15.2396 45.8343 15.3712 45.232 15.4259 44.4234L15.2835 44.0507C14.821 43.7905 14.4374 43.7343 14.0758 43.7413H14.078Z"
                                    fill="#6842FF"
                                ></path>
                                <path
                                    d="M43.0817 10.3501C40.6911 8.68775 37.1867 8.06859 32.3832 8.47015C27.5774 8.87171 24.2225 10.0584 22.1399 12.0999C19.6712 14.507 18.7025 18.4306 19.169 24.0681C20.1578 36.0139 26.1176 37.9814 34.7648 37.2568C43.4121 36.5344 48.9678 33.6091 47.979 21.6588C47.5125 16.019 45.9054 12.3175 43.0817 10.3478V10.3501ZM30.4814 28.8397C28.622 28.9945 26.977 27.6036 26.8229 25.7506L26.2649 19.0004C26.1109 17.1452 27.506 15.503 29.3653 15.3482C30.2492 15.2742 31.0818 15.5524 31.7291 16.0594C30.6622 16.4924 29.9524 17.5804 30.0528 18.7895C30.1756 20.2791 31.4814 21.3828 32.9769 21.2572C33.0706 21.2482 33.1666 21.237 33.2559 21.2213L33.584 25.1876C33.7381 27.0428 32.343 28.6849 30.4836 28.8397H30.4814ZM40.3675 27.9087C38.5081 28.0635 36.863 26.6727 36.709 24.8197L36.151 18.0694C35.997 16.2142 37.392 14.572 39.2514 14.4173C40.0237 14.3522 40.7558 14.5563 41.363 14.9489C40.3585 15.4111 39.6978 16.4609 39.7938 17.6275C39.9166 19.1171 41.2224 20.2208 42.7179 20.0952C42.8563 20.0839 42.988 20.0593 43.1197 20.0279L43.4701 24.2566C43.6241 26.1118 42.229 27.7539 40.3697 27.9087H40.3675Z"
                                    fill="white"
                                ></path>
                            </svg>
                            <div className="flex-[1_1_0%] font-[900] text-[20px] leading-[100%] text-[#F9FAFF] items-center justify-center flex max-sm:text-[14px] max-lg:text-[17px]">
                                Welcome to CrazyGames
                            </div>
                        </div>
                        <div className="flex items-center justify-center gap-[8px] text-[16px] font-[700] leading-[100%] text-[#F9FAFF] max-sm:text-[12px] max-md:text-[13px]">
                            <svg
                                viewBox="0 0 24 24"
                                focusable="false"
                                aria-hidden="true"
                                className="w-[32px] h-[32px] fill-[rgb(104,66,255)] max-sm:w-[20px] max-sm:h-[20px] svgHome"
                            >
                                <path
                                    fillRule="evenodd"
                                    clipRule="evenodd"
                                    d="M12.002 4C11.4497 4 11.002 4.44772 11.002 5C11.002 5.55228 11.4497 6 12.002 6C12.5542 6 13.002 5.55228 13.002 5C13.002 4.44772 12.5542 4 12.002 4ZM9.00195 5C9.00195 3.34315 10.3451 2 12.002 2C13.6588 2 15.002 3.34315 15.002 5C15.002 6.30623 14.1671 7.41747 13.0019 7.8293V8.5828C13.4503 8.65773 13.8922 8.78342 14.319 8.95985L19.9492 11.2903L19.9517 11.2913C20.1346 11.3664 20.302 11.4725 20.4469 11.6042C20.7759 11.7679 21.002 12.1075 21.002 12.5V17.2268C21.0116 17.4774 20.9667 17.7272 20.8703 17.959C20.7087 18.348 20.4087 18.6633 20.0283 18.8442L20.0261 18.8452L14.5641 21.4252C13.763 21.8036 12.888 22 12.002 22C11.116 22 10.241 21.8037 9.43985 21.4252L3.97668 18.8446C3.66495 18.6969 3.40537 18.4581 3.23222 18.1597C3.06692 17.8749 2.98782 17.5485 3.00395 17.2203L3.00214 12.9411C3.00009 12.9005 2.99951 12.8596 3.00041 12.8187C3.00075 12.8032 3.00131 12.7877 3.00207 12.7723L3.00196 12.5004C3.00179 12.1104 3.22494 11.7724 3.55059 11.6074C3.69899 11.4719 3.87112 11.3632 4.05945 11.2874C4.06978 11.2832 4.08015 11.2792 4.09057 11.2754L9.68448 8.96002C10.1113 8.78359 10.5536 8.65773 11.0019 8.5828V7.82929C9.83675 7.41744 9.00195 6.30621 9.00195 5ZM5.00296 14.8665L5.0039 17.118L10.2941 19.6168C10.8281 19.8691 11.4114 20 12.002 20C12.5925 20 13.1758 19.8691 13.7098 19.6168L19.002 17.117V14.866L14.559 16.9346C13.7581 17.3069 12.8851 17.5001 12.0019 17.5001C11.1187 17.5001 10.2462 17.3071 9.44532 16.9348L5.00296 14.8665ZM10.4494 10.808C10.63 10.7333 10.8147 10.6722 11.0019 10.6247V13C11.0019 13.5523 11.4496 14 12.0019 14C12.5542 14 13.0019 13.5523 13.0019 13V10.6247C13.1892 10.6722 13.3743 10.7335 13.5549 10.8081L18.5438 12.8732L13.7153 15.1212C13.1786 15.3708 12.5938 15.5001 12.0019 15.5001C11.41 15.5001 10.8253 15.3708 10.2885 15.1212L5.46001 12.8732L10.4494 10.808Z"
                                ></path>
                            </svg>
                            4000+ games
                        </div>
                        <div className="flex items-center justify-center gap-[8px] text-[16px] font-[700] leading-[100%] text-[#F9FAFF] max-sm:text-[12px] max-md:text-[13px]">
                            <svg
                                viewBox="0 0 30 30"
                                focusable="false"
                                aria-hidden="true"
                                className="w-[32px] h-[32px] fill-[rgb(104,66,255)] max-sm:w-[20px] max-sm:h-[20px]"
                            >
                                <path
                                    fillRule="evenodd"
                                    clipRule="evenodd"
                                    d="M13.6218 7.22187L15.3285 5.51521C16.7024 4.13921 19.1152 3.18561 21.5109 2.84214C22.5731 2.67667 23.6533 2.6623 24.7194 2.79947C25.6645 2.94027 26.2426 3.21761 26.5114 3.48854C26.7824 3.75734 27.0597 4.33547 27.2005 5.28054C27.337 6.19147 27.3264 7.30721 27.1578 8.48907C26.8165 10.8848 25.8608 13.2976 24.4848 14.6715L15 24.1584L12.5552 21.7136C12.4561 21.6144 12.3385 21.5357 12.2091 21.482C12.0796 21.4283 11.9409 21.4006 11.8007 21.4005C11.6606 21.4004 11.5218 21.4279 11.3923 21.4814C11.2627 21.535 11.145 21.6135 11.0458 21.7125C10.8456 21.9126 10.7329 22.1839 10.7327 22.467C10.7326 22.6071 10.7601 22.7459 10.8137 22.8755C10.8672 23.005 10.9457 23.1227 11.0448 23.2219L14.2448 26.4219C14.3439 26.5212 14.4616 26.6 14.5912 26.6538C14.7207 26.7076 14.8597 26.7353 15 26.7353C15.1403 26.7353 15.2792 26.7076 15.4088 26.6538C15.5384 26.6 15.6561 26.5212 15.7552 26.4219L16.9221 25.2528L19.4181 29.4149C19.5013 29.5543 19.6153 29.6728 19.7513 29.7615C19.8872 29.8502 20.0417 29.9066 20.2027 29.9266C20.3638 29.9465 20.5274 29.9295 20.6809 29.8767C20.8344 29.8239 20.9738 29.7367 21.0885 29.6219L25.3552 25.3552C25.4723 25.2379 25.5605 25.0948 25.6127 24.9374C25.665 24.78 25.6798 24.6127 25.656 24.4485L24.664 17.5109L25.9952 16.1819C27.8192 14.3557 28.8922 11.4352 29.2698 8.78988C29.4618 7.45227 29.4832 6.12321 29.3104 4.96267C29.1397 3.83627 28.7642 2.72267 28.0218 1.97814C27.2773 1.23574 26.1637 0.858139 25.0352 0.689606C23.7646 0.522339 22.4767 0.536705 21.2101 0.732272C18.5626 1.10561 15.64 2.17867 13.8181 4.00267L12.489 5.33387L5.55144 4.34187C5.38733 4.31809 5.21994 4.33289 5.06255 4.3851C4.90517 4.43732 4.76212 4.52551 4.64477 4.64267L0.378107 8.90934C0.263267 9.02407 0.176125 9.16349 0.123321 9.31699C0.0705167 9.47048 0.0534428 9.63401 0.0733998 9.79511C0.0933567 9.9562 0.149818 10.1106 0.238483 10.2466C0.327147 10.3826 0.445676 10.4965 0.58504 10.5797L4.74504 13.0757L3.57811 14.2427C3.47877 14.3418 3.39996 14.4595 3.34619 14.5891C3.29241 14.7186 3.26473 14.8576 3.26473 14.9979C3.26473 15.1382 3.29241 15.2771 3.34619 15.4067C3.39996 15.5363 3.47877 15.654 3.57811 15.7531L6.77811 18.9531C6.87728 19.0523 6.99502 19.1309 7.1246 19.1846C7.25418 19.2383 7.39306 19.2659 7.53331 19.2659C7.67356 19.2659 7.81244 19.2383 7.94202 19.1846C8.0716 19.1309 8.18933 19.0523 8.28851 18.9531C8.38768 18.8539 8.46635 18.7362 8.52003 18.6066C8.5737 18.477 8.60132 18.3381 8.60132 18.1979C8.60132 18.0576 8.5737 17.9187 8.52003 17.7892C8.46635 17.6596 8.38768 17.5419 8.28851 17.4427L5.84158 15L7.22184 13.6219L13.6218 7.22187ZM20.5445 27.1472L18.4752 23.6976L22.7781 19.3968L23.4693 24.2224L20.5445 27.1472ZM6.30238 11.5227L10.6032 7.22187L5.77758 6.53067L2.85491 9.45334L6.30238 11.5227ZM4.01971 21.0885C4.11888 20.9895 4.19758 20.8719 4.25131 20.7425C4.30503 20.613 4.33274 20.4743 4.33283 20.3341C4.33293 20.1939 4.30543 20.0551 4.25188 19.9256C4.19834 19.7961 4.11981 19.6784 4.02077 19.5792C3.92174 19.48 3.80414 19.4013 3.67469 19.3476C3.54525 19.2939 3.40648 19.2662 3.26633 19.2661C3.12617 19.266 2.98737 19.2935 2.85785 19.347C2.72832 19.4006 2.61062 19.4791 2.51144 19.5781L0.378107 21.7115C0.178098 21.9118 0.065847 22.1833 0.066047 22.4664C0.0662471 22.7494 0.178882 23.0208 0.379174 23.2208C0.579465 23.4208 0.851007 23.5331 1.13406 23.5329C1.41712 23.5327 1.6885 23.42 1.88851 23.2197L4.01971 21.0885ZM7.21971 24.2885C7.32159 24.1901 7.40285 24.0724 7.45875 24.9423C7.51465 23.8122 7.54408 23.6722 7.54531 23.5306C7.54654 23.3889 7.51955 23.2485 7.46592 23.1174C7.41229 22.9863 7.33308 22.8672 7.23293 22.7671C7.13278 22.6669 7.01368 22.5877 6.88259 22.5341C6.7515 22.4804 6.61105 22.4534 6.46941 22.4547C6.32778 22.4559 6.18782 22.4853 6.05768 22.5412C5.92754 22.5971 5.80984 22.6784 5.71144 22.7803L1.44477 27.0469C1.24477 27.2472 1.13251 27.5188 1.13271 27.8018C1.13291 28.0849 1.24555 28.3563 1.44584 28.5563C1.64613 28.7563 1.91767 28.8685 2.20073 28.8683C2.48378 28.8681 2.75517 28.7555 2.95517 28.5552L7.21971 24.2885ZM10.4197 27.4885C10.5189 27.3895 10.5976 27.2719 10.6513 27.1425C10.705 27.013 10.7327 26.8743 10.7328 26.7341C10.7329 26.5939 10.7054 26.4551 10.6519 26.3256C10.5983 26.1961 10.5198 26.0784 10.4208 25.9792C10.3217 25.88 10.2041 25.8013 10.0747 25.7476C9.94525 25.6939 9.80649 25.6662 9.66633 25.6661C9.52618 25.666 9.38737 25.6935 9.25785 25.747C9.12833 25.8006 9.01062 25.8791 8.91144 25.9781L6.77811 28.1115C6.5781 28.3118 6.46585 28.5833 6.46605 28.8664C6.46625 29.1494 6.57888 29.4208 6.77918 29.6208C6.97947 29.8208 7.25101 29.9331 7.53406 29.9329C7.81712 29.9327 8.0885 29.82 8.28851 29.6197L10.4197 27.4885ZM19.2666 13.3979C19.6166 13.3979 19.963 13.329 20.2863 13.195C20.6096 13.0611 20.9033 12.8649 21.1508 12.6175C21.3982 12.37 21.5944 12.0763 21.7284 11.753C21.8623 11.4297 21.9312 11.0833 21.9312 10.7333C21.9312 10.3834 21.8623 10.0369 21.7284 9.71367C21.5944 9.39039 21.3982 9.09666 21.1508 8.84923C20.9033 8.60181 20.6096 8.40554 20.2863 8.27163C19.963 8.13773 19.6166 8.06881 19.2666 8.06881C18.56 8.06881 17.8822 8.34953 17.3825 8.84923C16.8828 9.34893 16.6021 9.0267 16.6021 10.7333C16.6021 11.44 16.8828 12.1178 17.3825 12.6175C17.8822 13.1171 18.56 13.3979 19.2666 13.3979Z"
                                ></path>
                            </svg>
                            No install needed
                        </div>
                        <div className="flex items-center justify-center gap-[8px] text-[16px] font-[700] leading-[100%] text-[#F9FAFF] max-sm:text-[12px] max-md:text-[13px]">
                            <svg
                                viewBox="0 0 30 32"
                                focusable="false"
                                aria-hidden="true"
                                className="w-[32px] h-[32px] fill-[rgb(104,66,255)] max-sm:w-[20px] max-sm:h-[20px]"
                            >
                                <path d="M27.6562 14.5H24.8438V7.5C24.8433 7.10232 24.695 6.72106 24.4314 6.43985C24.1678 6.15865 23.8103 6.00046 23.4375 6H2.34375C1.97092 6.00046 1.61349 6.15865 1.34986 6.43985C1.08623 6.72106 0.937934 7.10232 0.9375 7.5V22.875C0.937934 23.2727 1.08623 23.6539 1.34986 23.9351C1.61349 24.2164 1.97092 24.3745 2.34375 24.375H12.4219V27.5H8.90625V29.5H17.8125V27.5H14.2969V24.375H19.6875V28C19.6879 28.3977 19.8362 28.779 20.0998 29.0602C20.3635 29.3414 20.7209 29.4996 21.0938 29.5H27.6562C28.0291 29.4996 28.3865 29.3414 28.6502 29.0602C28.9138 28.779 29.0621 28.3977 29.0625 28V16C29.0621 15.6023 28.9138 15.221 28.6502 14.9398C28.3865 14.6586 28.0291 14.5004 27.6562 14.5ZM19.6875 16V22.375H2.8125V8H22.9688V14.5H21.0938C20.7209 14.5004 20.3635 14.6586 20.0998 14.9398C19.8362 15.221 19.6879 15.6023 19.6875 16ZM27.1875 27.5H21.5625V16.5H27.1875V27.5Z"></path>
                            </svg>
                            On any device
                        </div>
                        <div className="flex items-center justify-center gap-[8px] text-[16px] font-[700] leading-[100%] text-[#F9FAFF] max-sm:text-[12px] max-md:text-[13px]">
                            <svg
                                viewBox="0 0 24 24"
                                focusable="false"
                                aria-hidden="true"
                                className="w-[32px] h-[32px] fill-[rgb(104,66,255)] max-sm:w-[20px] max-sm:h-[20px]"
                            >
                                <path
                                    fillRule="evenodd"
                                    clipRule="evenodd"
                                    d="M9 4C7.34315 4 6 5.34315 6 7C6 8.65685 7.34315 10 9 10C10.6569 10 12 8.65685 12 7C12 5.34315 10.6569 4 9 4ZM4 7C4 4.23858 6.23858 2 9 2C10.1256 2 11.1644 2.37197 12.0001 2.99969C12.8355 2.37247 13.8751 2 15 2C17.7614 2 20 4.23858 20 7C20 9.76142 17.7614 12 15 12C13.8749 12 12.8354 11.6275 12.0001 11.0003C11.1644 11.628 10.1256 12 9 12C6.23858 12 4 9.76142 4 7ZM13.3338 9.4953C13.8105 9.81451 14.383 10 15 10C16.6569 10 18 8.65685 18 7C18 5.34315 16.6569 4 15 4C14.3829 4 13.8105 4.18553 13.3338 4.50471C13.7576 5.23908 14 6.09123 14 7C14 7.90878 13.7576 8.76093 13.3338 9.4953ZM9 15C6.22914 15 4 17.1922 4 19.9695V19.9771H14V19.9695C14 17.1922 11.7709 15 9 15ZM16 19.9771H20V19.9695C20 17.1922 17.7709 15 15 15C14.6505 15 14.3172 15.0253 14.0011 15.0769C15.2368 16.3274 16 18.0475 16 19.9695V19.9771ZM11.9386 13.6356C11.0444 13.2269 10.0485 13 9 13C5.14345 13 2 16.0688 2 19.9695V20.9771C2 21.5294 2.44772 21.9771 3 21.9771H21C21.5523 21.9771 22 21.5294 22 20.9771V19.9695C22 16.0688 18.8566 13 15 13C13.9424 13 12.8952 13.1826 11.9386 13.6356Z"
                                ></path>
                            </svg>
                            Play with friends
                        </div>
                        <div className="flex items-center justify-center gap-[8px] text-[16px] font-[700] leading-[100%] text-[#F9FAFF] max-sm:text-[12px] max-md:text-[13px]">
                            <svg
                                viewBox="0 0 24 24"
                                focusable="false"
                                aria-hidden="true"
                                className="w-[32px] h-[32px] fill-[rgb(104,66,255)] max-sm:w-[20px] max-sm:h-[20px]"
                            >
                                <path
                                    fillRule="evenodd"
                                    clipRule="evenodd"
                                    d="M5 2C5.55228 2 6 2.44772 6 3V4H7C7.55228 4 8 4.44772 8 5C8 5.55228 7.55228 6 7 6H6V7C6 7.55228 5.55228 8 5 8C4.44772 8 4 7.55228 4 7V6H3C2.44772 6 2 5.55228 2 5C2 4.44772 2.44772 4 3 4H4V3C4 2.44772 4.44772 2 5 2ZM13 2C13.4304 2 13.8126 2.27543 13.9487 2.68377L16.0835 9.08833L21.3511 11.0637C21.7414 11.21 22 11.5832 22 12C22 12.4168 21.7414 12.79 21.3511 12.9363L16.0835 14.9117L13.9487 21.3162C13.8126 21.7246 13.4304 22 13 22C12.5696 22 12.1874 21.7246 12.0513 21.3162L9.91647 14.9117L4.64888 12.9363C4.25857 12.79 4 12.4168 4 12C4 11.5832 4.25857 11.21 4.64888 11.0637L9.91647 9.08833L12.0513 2.68377C12.1874 2.27543 12.5696 2 13 2ZM13 6.16228L11.663 10.1734C11.5675 10.4596 11.348 10.6875 11.0654 10.7935L7.848 12L11.0654 13.2065C11.348 13.3125 11.5675 13.5404 11.663 13.8266L13 17.8377L14.337 13.8266C14.4325 13.5404 14.652 13.3125 14.9346 13.2065L18.152 12L14.9346 10.7935C14.652 10.6875 14.4325 10.4596 14.337 10.1734L13 6.16228ZM6 16C6.55228 16 7 16.4477 7 17V18H8C8.55228 18 9 18.4477 9 19C9 19.5523 8.55228 20 8 20H7V21C7 21.5523 6.55228 22 6 22C5.44772 22 5 21.5523 5 21V20H4C3.44772 20 3 19.5523 3 19C3 18.4477 3.44772 18 4 18H5V17C5 16.4477 5.44772 16 6 16Z"
                                ></path>
                            </svg>
                            All for free
                        </div>
                    </div>
                ) : (
                    <div className="w-full flex items-center h-[60px] my-3 max-sm:hidden">
                        <Link
                            className="flex items-center  justify-between p-3 rounded-lg bg-[rgb(33,34,51)] h-[64px] mx-3"
                            to="/recent"
                        >
                            <h2 className="text-[14px] font-[800] leading-[100%] text-[#F9FAFF] max-sm:text-[13px] ">
                                Recently Played
                            </h2>
                            <svg viewBox="0 0 24 24" className="w-6 h-6 fill-[#F9FAFF] max-sm:w-5 max-sm:h-5">
                                <path
                                    fillRule="evenodd"
                                    clipRule="evenodd"
                                    d="M8.29289 4.29289C8.68342 3.90237 9.31658 3.90237 9.70711 4.29289L16.7071 11.2929C17.0976 11.6834 17.0976 12.3166 16.7071 12.7071L9.70711 19.7071C9.31658 20.0976 8.68342 20.0976 8.29289 19.7071C7.90237 19.3166 7.90237 18.6834 8.29289 18.2929L14.5858 12L8.29289 5.70711C7.90237 5.31658 7.90237 4.68342 8.29289 4.29289Z"
                                />
                            </svg>
                        </Link>
                        <div className="grid grid-cols-5 gap-2 max-md:grid-cols-3 max-sm:grid-cols-2 ">
                            {recentGames.slice(0, 5).map((game) => (
                                <Link
                                    key={game.id}
                                    to={`/game/${game.slug || ''}`}
                                    className="game-box small-game-box shadow flex flex-col items-center justify-center h-[60px] w-[120px]"
                                >
                                    <img
                                        src={
                                            game.thumbnail
                                                ? `/image/game/thumbnail/${game.thumbnail}`
                                                : 'https://via.placeholder.com/150?text=No+Image'
                                        }
                                        alt={game.title || 'Recent Game'}
                                        className="w-full h-[100%] object-cover rounded-lg"
                                    />
                                </Link>
                            ))}
                        </div>
                    </div>
                )}
                <div className="flex">
                    <HomeSlide />
                </div>
                <div className="flex">
                    <FeaturedSlide />
                </div>
                <div className="flex flex-col">
                    <div className="min-h-[32px]">
                        <span className="text-[#fff] font-bold text-[19.2px] p-[0_16px_3px_8px] w-fit max-sm:text-[14px] max-lg:text-[16px]">
                            CrazyGames Originals
                        </span>
                        <Link
                            to="/originals"
                            className="bg-none border-none text-[#a48eff] font-bold text-[14px] hover:text-[#6842ff] cursor-pointer 
                                max-sm:text-[12px] max-md:text-[13px] max-lg:text-[13px]"
                        >
                            view more
                        </Link>
                    </div>
                    <OriginalSlide title="" />
                </div>
                {categoriesGame.map((category) => (
                    <div key={category.id} className="flex flex-col">
                        <div className="min-h-[32px]">
                            <span className="text-[#fff] font-bold text-[19.2px] p-[0_16px_3px_8px] w-fit max-sm:text-[14px] max-lg:text-[16px]">
                                {category.name}
                            </span>
                            <Link
                                to={category.path}
                                className="bg-none border-none text-[#a48eff] font-bold text-[14px] hover:text-[#6842ff] cursor-pointer 
                                max-sm:text-[12px] max-md:text-[13px] max-lg:text-[13px]"
                            >
                                view more
                            </Link>
                        </div>
                        <GameSlide category={category.id} title={category.name} />
                    </div>
                ))}
                <style>{`
                    .game-box {
                        position: relative;
                        transition: all 0.3s ease;
                        box-sizing: border-box;
                        border: 2px solid transparent;
                        border-radius: 8px;
                    }
                    .game-box:hover {
                        opacity: 0.9;
                        border: 2px solid rgb(104, 66, 255);
                    }
                    .game-box img {
                        width: 100%;
                        height: 100%;
                        object-fit: cover;
                        border-radius: 8px;
                    }
                    .game-box .title {
                        position: absolute;
                        left: 0;
                        bottom: 0;
                        right: 0;
                        text-align: start;
                        color: #fff;
                        padding: 0 0 10px 8px;
                        font-size: 13px;
                        font-weight: 600;
                        opacity: 0;
                        transition: opacity 0.3s ease;
                        border-bottom-left-radius: 8px;
                        border-bottom-right-radius: 8px;
                        background: linear-gradient(to top, rgba(0, 0, 0, 0.7) 0%, rgba(0, 0, 0, 0) 100%);
                        pointer-events: none;
                        z-index: 2;
                    }
                    .game-box:hover .title {
                        opacity: 1;
                    }
                `}</style>
            </main>
        </DefaultLayout>
    );
}

export default MainLayout;
